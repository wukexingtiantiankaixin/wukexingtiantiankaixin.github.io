<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>äº”è§’æ˜ŸÂ·æ–°å¹´ç¥ç¦</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'PingFang SC', 'Microsoft YaHei', sans-serif;
            background: #0a0a2a;
            color: #ffffff;
            overflow: hidden;
            height: 100vh;
        }
        
        /* æ˜Ÿç©ºèƒŒæ™¯ */
        #starsCanvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -2;
        }
        
        /* æ˜Ÿäº‘æ•ˆæœ */
        .nebula {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            opacity: 0.6;
        }
        
        .nebula-1 {
            background: radial-gradient(circle at 20% 30%, rgba(120, 80, 255, 0.2) 0%, transparent 40%);
        }
        
        .nebula-2 {
            background: radial-gradient(circle at 80% 70%, rgba(255, 100, 150, 0.15) 0%, transparent 40%);
        }
        
        .container {
            width: 100%;
            height: 100vh;
            position: relative;
            overflow: hidden;
        }
        
        .chapter {
            position: absolute;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 30px;
            opacity: 0;
            transition: all 1.2s ease;
            z-index: 1;
            text-align: center;
        }
        
        .chapter.active {
            opacity: 1;
            z-index: 10;
        }
        
        .title {
            font-size: 3.5rem;
            text-align: center;
            margin-bottom: 25px;
            color: #ffd166;
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.8s ease 0.5s;
            font-weight: 600;
            text-shadow: 0 0 15px rgba(255, 209, 102, 0.5);
            letter-spacing: 2px;
        }
        
        .chapter.active .title {
            opacity: 1;
            transform: translateY(0);
        }
        
        .subtitle {
            font-size: 1.6rem;
            text-align: center;
            margin-bottom: 40px;
            color: #b0c4de;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.8s ease 0.7s;
        }
        
        .chapter.active .subtitle {
            opacity: 1;
            transform: translateY(0);
        }
        
        .content {
            font-size: 1.4rem;
            line-height: 1.8;
            max-width: 850px;
            text-align: center;
            color: #e6f7ff;
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.8s ease 0.9s;
            margin-bottom: 40px;
        }
        
        .chapter.active .content {
            opacity: 1;
            transform: translateY(0);
        }
        
        .highlight {
            color: #ffd166;
            font-weight: 600;
            font-size: 1.6rem;
        }
        
        /* äº”è§’æ˜Ÿæ ·å¼ */
        .star {
            position: absolute;
            color: #ffd166;
            opacity: 0;
            transform: scale(0.5);
            transition: all 0.8s ease;
            z-index: 5;
        }
        
        .star.active {
            opacity: 1;
            transform: scale(1);
        }
        
        .star i {
            text-shadow: 0 0 20px currentColor;
        }
        
        .star-info {
            position: absolute;
            background: rgba(0, 10, 30, 0.8);
            padding: 10px 18px;
            border-radius: 25px;
            font-size: 1.2rem;
            color: #ffd166;
            opacity: 0;
            transition: opacity 0.5s ease;
            white-space: nowrap;
            top: -45px;
            left: 50%;
            transform: translateX(-50%);
            border: 1px solid rgba(255, 209, 102, 0.3);
            backdrop-filter: blur(5px);
        }
        
        .star.active .star-info {
            opacity: 1;
        }
        
        /* æ˜Ÿå½¢å¸ƒå±€å®¹å™¨ */
        .stars-container {
            position: relative;
            width: 600px;
            height: 500px;
            margin: 30px auto;
        }
        
        /* çƒŸèŠ±Canvas */
        #fireworksCanvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 8;
        }
        
        /* è¿›åº¦æ¡ */
        .progress-bar {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 6px;
            background: rgba(255, 255, 255, 0.1);
            z-index: 100;
        }
        
        .progress {
            height: 100%;
            background: linear-gradient(90deg, #ff9a00, #ffd166, #ff9a00);
            width: 0%;
            transition: width 5s linear;
            border-radius: 0 3px 3px 0;
        }
        
        /* ç« èŠ‚æŒ‡ç¤ºå™¨ */
        .chapter-indicator {
            position: fixed;
            top: 25px;
            right: 25px;
            color: #ffd166;
            font-size: 1.5rem;
            z-index: 100;
            background: rgba(0, 10, 30, 0.7);
            padding: 12px 18px;
            border-radius: 30px;
            border: 2px solid rgba(255, 209, 102, 0.4);
            backdrop-filter: blur(5px);
            font-weight: 600;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }
        
        /* è‡ªåŠ¨æ’­æ”¾æç¤º */
        .auto-hint {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            color: #b0c4de;
            text-align: center;
            z-index: 100;
            font-size: 0.9rem;
            background: rgba(0, 10, 30, 0.6);
            padding: 8px 20px;
            border-radius: 20px;
            border: 1px solid rgba(176, 196, 222, 0.3);
            backdrop-filter: blur(5px);
        }
        
        /* æ¬¢è¿æ˜Ÿæ˜Ÿå®¹å™¨ */
        .welcome-stars {
            position: relative;
            width: 300px;
            height: 300px;
            margin: 40px auto;
        }
        
        /* ä¾§è¾¹æ˜Ÿæ˜Ÿå®¹å™¨ */
        .stars-side {
            position: relative;
            width: 100%;
            height: 400px;
            margin-top: 30px;
        }
        
        /* æœ€ç»ˆæ¶ˆæ¯ */
        .final-message {
            font-size: 1.8rem;
            color: #ffd166;
            margin-top: 30px;
            text-align: center;
            max-width: 800px;
            line-height: 1.6;
            padding: 30px;
            border-radius: 20px;
            background: rgba(0, 20, 50, 0.3);
            border: 1px solid rgba(255, 209, 102, 0.2);
            backdrop-filter: blur(10px);
        }
        
        /* æµæ˜Ÿæ•ˆæœ */
        .shooting-star {
            position: absolute;
            width: 2px;
            height: 2px;
            background: white;
            border-radius: 50%;
            filter: blur(1px);
            opacity: 0;
            z-index: 2;
        }
        
        @keyframes shootingStar {
            0% {
                transform: translateX(-100px) translateY(100px);
                opacity: 0;
            }
            10% {
                opacity: 1;
            }
            90% {
                opacity: 1;
            }
            100% {
                transform: translateX(calc(100vw + 100px)) translateY(calc(-100vh - 100px));
                opacity: 0;
            }
        }
        
        /* å‘¼å¸åŠ¨ç”» */
        @keyframes breathing {
            0%, 100% { transform: scale(1); opacity: 0.8; }
            50% { transform: scale(1.05); opacity: 1; }
        }
        
        .star i {
            animation: breathing 3s infinite ease-in-out;
        }
        
        /* å“åº”å¼è°ƒæ•´ */
        @media (max-width: 768px) {
            .title {
                font-size: 2.5rem;
            }
            
            .content {
                font-size: 1.2rem;
                padding: 0 20px;
            }
            
            .stars-container {
                width: 90%;
                height: 400px;
            }
            
            .auto-hint {
                font-size: 0.8rem;
                width: 90%;
            }
        }
    </style>
</head>
<body>
    <!-- æ˜Ÿç©ºèƒŒæ™¯ -->
    <canvas id="starsCanvas"></canvas>
    <div class="nebula nebula-1"></div>
    <div class="nebula nebula-2"></div>
    
    <!-- çƒŸèŠ±ç”»å¸ƒ -->
    <canvas id="fireworksCanvas"></canvas>
    
    <!-- ç« èŠ‚æŒ‡ç¤ºå™¨ -->
    <div class="chapter-indicator" id="chapterIndicator">1</div>
    
    <!-- è¿›åº¦æ¡ -->
    <div class="progress-bar">
        <div class="progress" id="progress"></div>
    </div>
    
    <!-- è‡ªåŠ¨æ’­æ”¾æç¤º -->
    <div class="auto-hint">
        <i class="fas fa-play-circle"></i> è‡ªåŠ¨æ’­æ”¾ä¸­ Â· æ— éœ€æ“ä½œ
    </div>
    
    <!-- ä¸»å®¹å™¨ -->
    <div class="container" id="container">
        <!-- ç¬¬ä¸€ç« ï¼šæ¬¢è¿ -->
        <section class="chapter chapter-1 active">
            <h1 class="title">âœ¨ æ–°å¹´æ˜Ÿæ„¿ âœ¨</h1>
            <div class="subtitle">äº”è§’æ˜Ÿçš„ç¥ç¦ Â· ç…§äº®æ–°çš„ä¸€å¹´</div>
            <div class="content">
                <p>åœ¨æµ©ç€šæ˜Ÿç©ºä¸­ï¼Œæœ‰äº”é¢—ç‰¹åˆ«çš„æ˜Ÿæ˜Ÿ</p>
                <p>å®ƒä»¬æ±‡èšæˆå…‰èŠ’ï¼Œä¸ºä½ å¸¦æ¥æ–°å¹´çš„ç¥ç¦</p>
                <p>æ¯ä¸€é¢—æ˜Ÿéƒ½æ‰¿è½½ç€ç¾å¥½çš„å¿ƒæ„¿</p>
                <p>æ„¿ä½ åœ¨æ–°çš„ä¸€å¹´é‡Œï¼Œæ˜Ÿå…‰ç’€ç’¨ï¼Œæ¢¦æƒ³æˆçœŸ</p>
            </div>
            
            <div class="welcome-stars" id="welcome-stars">
                <!-- è¿™é‡Œä¼šé€šè¿‡JSæ·»åŠ äº”è§’æ˜Ÿ -->
            </div>
        </section>
        
        <!-- ç¬¬äºŒç« ï¼šäº”è§’æ˜Ÿçš„ç¥ç¦ -->
        <section class="chapter chapter-2">
            <h1 class="title">â­ äº”è§’æ˜Ÿçš„ç¥ç¦ â­</h1>
            <div class="subtitle">äº”é¢—æ˜Ÿï¼Œäº”ç§ç¥ç¦ï¼Œç…§äº®ä½ çš„æ¯ä¸€æ­¥</div>
            
            <div class="content">
                <p>äº”é¢—äº”è§’æ˜Ÿåœ¨æ˜Ÿç©ºä¸­ä¸ºä½ é—ªè€€</p>
                <p>æ¯ä¸€é¢—éƒ½å¸¦æ¥ç‰¹åˆ«çš„ç¥ç¦</p>
                <p>æ„¿è¿™äº›æ˜Ÿå…‰æ°¸è¿œç…§äº®ä½ çš„é“è·¯</p>
            </div>
            
            <div class="stars-container" id="stars-container">
                <!-- äº”è§’æ˜Ÿä¼šé€šè¿‡JSåŠ¨æ€æ·»åŠ  -->
            </div>
        </section>
        
        <!-- ç¬¬ä¸‰ç« ï¼šæ˜Ÿè¾°å¯„è¯­ -->
        <section class="chapter chapter-3">
            <h1 class="title">ğŸŒ  æ˜Ÿè¾°å¯„è¯­</h1>
            <div class="subtitle">æ˜Ÿå…‰ä¸ºè¯ï¼Œç¥ç¦æ°¸æ’</div>
            
            <div class="content">
                <p>åœ¨å¯‚é™çš„å¤œç©ºä¸‹ï¼Œæ˜Ÿæ˜Ÿæ˜¯æœ€æ¸©æŸ”çš„é™ªä¼´</p>
                <p>å®ƒä»¬è§è¯äº†æ—¶å…‰çš„æµè½¬ï¼Œå®ˆæŠ¤ç€æˆ‘ä»¬çš„æ¢¦æƒ³</p>
                <p>æ–°çš„ä¸€å¹´ï¼Œæ„¿ä½ èƒ½åƒæ˜Ÿæ˜Ÿä¸€æ ·</p>
                <p class="highlight">åœ¨é»‘æš—ä¸­é—ªè€€ï¼Œåœ¨å­¤ç‹¬ä¸­åšå¼º</p>
                <p>æ„¿ä½ çš„ç”Ÿæ´»å¦‚æ˜Ÿæ²³èˆ¬ç’€ç’¨</p>
                <p>æ„¿ä½ çš„æœªæ¥å¦‚æ˜Ÿè¾°èˆ¬æ˜äº®</p>
                <p style="margin-top: 20px;">æ–°å¹´å¿«ä¹ï¼Œä¸‡äº‹é¡ºé‚ï¼</p>
            </div>
            
            <div class="stars-side" id="stars-side">
                <!-- è¿™é‡Œä¼šé€šè¿‡JSæ·»åŠ äº”è§’æ˜Ÿ -->
            </div>
        </section>
        
        <!-- ç¬¬å››ç« ï¼šæ˜Ÿç©ºçƒŸèŠ± -->
        <section class="chapter chapter-4">
            <h1 class="title">ğŸ† æ˜Ÿç©ºçƒŸèŠ±</h1>
            <div class="subtitle">æ˜Ÿè¾°ä¸ºå¹•ï¼ŒçƒŸèŠ±ä¸ºè¯—</div>
            <div class="content">
                <p>çœ‹ï¼æ˜Ÿç©ºä¸ºä½ ç»½æ”¾æœ€ç»šçƒ‚çš„çƒŸèŠ±</p>
                <p>æ¯ä¸€æœµéƒ½æ˜¯å®‡å®™å¯¹ä½ çš„ç¥ç¦</p>
                <p>æ„¿ä½ çš„ç”Ÿæ´»å¦‚çƒŸèŠ±èˆ¬ç»šçƒ‚å¤šå½©</p>
                <p>æ„¿ä½ çš„ç¬‘å®¹å¦‚æ˜Ÿå…‰èˆ¬ç¿çƒ‚æ°¸æ’</p>
            </div>
            <!-- çƒŸèŠ±ç”±Canvasç»˜åˆ¶ -->
        </section>
        
        <!-- ç¬¬äº”ç« ï¼šæ°¸æ’æ˜Ÿå…‰ -->
        <section class="chapter chapter-5">
            <h1 class="title">ğŸ’« æ°¸æ’æ˜Ÿå…‰</h1>
            <div class="subtitle">æ—¶é—´æµé€ï¼Œæ˜Ÿå…‰æ°¸æ’</div>
            
            <div class="content">
                <p>æ—¶é—´ä¼šæµé€ï¼Œå­£èŠ‚ä¼šæ›´æ›¿</p>
                <p>ä½†æ˜Ÿå…‰æ°¸æ’ï¼Œç¥ç¦é•¿å­˜</p>
                <p>æ„Ÿè°¢ç›¸é‡åœ¨è¿™æµ©ç€šå®‡å®™ä¸­</p>
                <p>äº”è§’æ˜Ÿçš„ç¥ç¦å°†æ°¸è¿œé™ªä¼´ä½ </p>
            </div>
            
            <div class="final-message">
                <p>æ„¿æ˜Ÿå…‰æ°¸è¿œç…§äº®ä½ çš„å¤œæ™š</p>
                <p>æ„¿æ¸©æš–æ°¸è¿œä¼´éšä½ çš„æ—…ç¨‹</p>
                <p>äº”è§’æ˜Ÿ Â· æ–°å¹´å¿«ä¹ Â· ä¸‡äº‹å¦‚æ„</p>
            </div>
            
            <div style="margin-top: 50px; color: #90a4ae; font-size: 0.9rem;">
                é¡µé¢å°†åœ¨10ç§’åé‡æ–°å¼€å§‹å¾ªç¯æ’­æ”¾
            </div>
        </section>
    </div>
    
    <script>
        // åˆ›å»ºæ˜Ÿç©ºèƒŒæ™¯
        function createStars() {
            const canvas = document.getElementById('starsCanvas');
            const ctx = canvas.getContext('2d');
            
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            
            const stars = [];
            const starCount = 400;
            
            // åˆ›å»ºæ˜Ÿæ˜Ÿ
            for (let i = 0; i < starCount; i++) {
                stars.push({
                    x: Math.random() * canvas.width,
                    y: Math.random() * canvas.height,
                    radius: Math.random() * 1.2 + 0.5,
                    alpha: Math.random() * 0.7 + 0.3,
                    speed: Math.random() * 0.3 + 0.1,
                    twinkleSpeed: Math.random() * 0.015 + 0.005
                });
            }
            
            // ç»˜åˆ¶æ˜Ÿæ˜Ÿ
            function drawStars() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                
                // ç»˜åˆ¶æ·±è‰²èƒŒæ™¯
                ctx.fillStyle = '#0a0a2a';
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                
                for (const star of stars) {
                    ctx.beginPath();
                    ctx.arc(star.x, star.y, star.radius, 0, Math.PI * 2);
                    
                    // åˆ›å»ºæ¸å˜æ•ˆæœ
                    const gradient = ctx.createRadialGradient(
                        star.x, star.y, 0,
                        star.x, star.y, star.radius * 3
                    );
                    gradient.addColorStop(0, `rgba(255, 255, 255, ${star.alpha})`);
                    gradient.addColorStop(1, `rgba(255, 255, 255, 0)`);
                    
                    ctx.fillStyle = gradient;
                    ctx.fill();
                    
                    // é—ªçƒæ•ˆæœ
                    star.alpha += star.twinkleSpeed;
                    if (star.alpha > 0.9 || star.alpha < 0.3) {
                        star.twinkleSpeed = -star.twinkleSpeed;
                    }
                    
                    // æ˜Ÿæ˜Ÿç¼“æ…¢ç§»åŠ¨
                    star.x -= star.speed;
                    if (star.x < -10) {
                        star.x = canvas.width + 10;
                        star.y = Math.random() * canvas.height;
                    }
                }
                
                requestAnimationFrame(drawStars);
            }
            
            drawStars();
            
            // çª—å£å¤§å°æ”¹å˜æ—¶é‡ç½®
            window.addEventListener('resize', () => {
                canvas.width = window.innerWidth;
                canvas.height = window.innerHeight;
            });
        }
        
        // åˆ›å»ºæµæ˜Ÿæ•ˆæœ
        function createShootingStars() {
            const container = document.querySelector('.container');
            
            function createShootingStar() {
                const star = document.createElement('div');
                star.classList.add('shooting-star');
                
                // éšæœºèµ·å§‹ä½ç½®
                const startX = -100;
                const startY = Math.random() * window.innerHeight * 0.8;
                star.style.left = startX + 'px';
                star.style.top = startY + 'px';
                
                // éšæœºé¢œè‰²
                const colors = ['#ffd166', '#ff9a00', '#ff6b6b', '#6b6bff', '#66ffb3'];
                const color = colors[Math.floor(Math.random() * colors.length)];
                star.style.background = `radial-gradient(circle, ${color}, transparent)`;
                star.style.boxShadow = `0 0 15px ${color}, 0 0 30px ${color}`;
                
                // éšæœºå¤§å°
                const size = Math.random() * 1.5 + 0.5;
                star.style.width = size + 'px';
                star.style.height = size + 'px';
                
                container.appendChild(star);
                
                // éšæœºåŠ¨ç”»æ—¶é—´å’Œè·¯å¾„
                const duration = Math.random() * 2 + 1;
                const angle = Math.random() * 30 + 15; // 15-45åº¦è§’
                star.style.animation = `shootingStar ${duration}s linear forwards`;
                
                // åŠ¨ç”»ç»“æŸåç§»é™¤
                setTimeout(() => {
                    if (star.parentNode === container) {
                        container.removeChild(star);
                    }
                }, duration * 1000 + 100);
            }
            
            // æ¯3-8ç§’åˆ›å»ºä¸€ä¸ªæµæ˜Ÿ
            setInterval(createShootingStar, Math.random() * 5000 + 3000);
            
            // åˆå§‹åˆ›å»ºå‡ ä¸ªæµæ˜Ÿ
            for (let i = 0; i < 3; i++) {
                setTimeout(createShootingStar, i * 1000);
            }
        }
        
        // åˆ›å»ºäº”è§’æ˜Ÿ
        function createFiveStars(containerId, positions, starInfos, size = 40) {
            const container = document.getElementById(containerId);
            if (!container) {
                console.error(`å®¹å™¨ ${containerId} ä¸å­˜åœ¨`);
                return;
            }
            
            // æ¸…é™¤ç°æœ‰æ˜Ÿæ˜Ÿ
            container.innerHTML = '';
            
            positions.forEach((pos, index) => {
                const star = document.createElement('div');
                star.classList.add('star');
                
                star.style.left = pos.x + '%';
                star.style.top = pos.y + '%';
                star.style.fontSize = size + 'px';
                star.style.color = pos.color || '#ffd166';
                
                // æ·»åŠ Font Awesomeçš„äº”è§’æ˜Ÿå›¾æ ‡
                const icon = document.createElement('i');
                icon.className = 'fas fa-star';
                star.appendChild(icon);
                
                // æ·»åŠ æ˜Ÿæ˜Ÿä¿¡æ¯
                if (starInfos && starInfos[index]) {
                    const info = document.createElement('div');
                    info.classList.add('star-info');
                    info.textContent = starInfos[index];
                    star.appendChild(info);
                }
                
                container.appendChild(star);
            });
        }
        
        // æ¿€æ´»äº”è§’æ˜ŸåŠ¨ç”»
        function activateStars(containerId, delay = 300) {
            const container = document.getElementById(containerId);
            if (!container) return;
            
            const stars = container.querySelectorAll('.star');
            
            // é‡ç½®æ‰€æœ‰æ˜Ÿæ˜Ÿ
            stars.forEach(star => {
                star.classList.remove('active');
            });
            
            // é€ä¸ªæ¿€æ´»æ˜Ÿæ˜Ÿ
            stars.forEach((star, index) => {
                setTimeout(() => {
                    star.classList.add('active');
                }, index * delay);
            });
        }
        
        // çƒŸèŠ±æ•ˆæœ - æŒç»­æ•ˆæœå¹¶å¯åœ¨é‡æ–°å¼€å§‹å‰æ¸…ç†
        let fireworksAnimationId = null;
        let fireworks = [];
        let particles = [];
        
        function createFireworks() {
            const canvas = document.getElementById('fireworksCanvas');
            const ctx = canvas.getContext('2d');
            
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            
            // çƒŸèŠ±é¢œè‰²
            const colors = [
                '#ffd166', '#ff9a00', '#ff6b6b', '#6b6bff', '#66ffb3',
                '#ff80ab', '#80deea', '#b39ddb', '#a5d6a7', '#ffcc80'
            ];
            
            class Firework {
                constructor(x, y) {
                    this.x = x;
                    this.y = y;
                    this.velocity = {
                        x: Math.random() * 4 - 2,
                        y: Math.random() * -3 - 7
                    };
                    this.gravity = 0.1;
                    this.color = colors[Math.floor(Math.random() * colors.length)];
                    this.size = 3;
                    this.alpha = 1;
                    this.exploded = false;
                }
                
                update() {
                    this.velocity.y += this.gravity;
                    this.x += this.velocity.x;
                    this.y += this.velocity.y;
                    
                    if (this.velocity.y >= 0 && !this.exploded) {
                        this.explode();
                        this.exploded = true;
                    }
                    
                    this.alpha -= 0.008;
                }
                
                explode() {
                    const particleCount = 80 + Math.random() * 40;
                    
                    for (let i = 0; i < particleCount; i++) {
                        const particle = new Particle(
                            this.x,
                            this.y,
                            this.color
                        );
                        particles.push(particle);
                    }
                }
                
                draw() {
                    ctx.save();
                    ctx.globalAlpha = this.alpha;
                    ctx.fillStyle = this.color;
                    ctx.beginPath();
                    ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                    ctx.fill();
                    
                    // æ·»åŠ å…‰æ™•æ•ˆæœ
                    ctx.beginPath();
                    ctx.arc(this.x, this.y, this.size * 3, 0, Math.PI * 2);
                    ctx.fillStyle = this.color;
                    ctx.globalAlpha = this.alpha * 0.3;
                    ctx.fill();
                    
                    ctx.restore();
                }
            }
            
            class Particle {
                constructor(x, y, color) {
                    this.x = x;
                    this.y = y;
                    this.color = color;
                    this.velocity = {
                        x: Math.random() * 8 - 4,
                        y: Math.random() * 8 - 4
                    };
                    this.size = Math.random() * 3 + 1;
                    this.alpha = 1;
                    this.gravity = 0.02;
                    this.decay = Math.random() * 0.02 + 0.005;
                }
                
                update() {
                    this.velocity.y += this.gravity;
                    this.x += this.velocity.x;
                    this.y += this.velocity.y;
                    this.alpha -= this.decay;
                    this.size -= 0.02;
                }
                
                draw() {
                    ctx.save();
                    ctx.globalAlpha = this.alpha;
                    ctx.fillStyle = this.color;
                    ctx.beginPath();
                    ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                    ctx.fill();
                    
                    // æ·»åŠ å…‰æ™•æ•ˆæœ
                    ctx.beginPath();
                    ctx.arc(this.x, this.y, this.size * 2, 0, Math.PI * 2);
                    ctx.fillStyle = this.color;
                    ctx.globalAlpha = this.alpha * 0.3;
                    ctx.fill();
                    
                    ctx.restore();
                }
            }
            
            function animate() {
                // ä½¿ç”¨åŠé€æ˜é»‘è‰²è¦†ç›–ï¼Œåˆ›å»ºæ‹–å°¾æ•ˆæœ
                ctx.fillStyle = 'rgba(10, 10, 42, 0.1)';
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                
                // éšæœºå‘å°„çƒŸèŠ±
                if (Math.random() < 0.06 && fireworks.length < 8) {
                    const x = Math.random() * canvas.width;
                    const y = canvas.height;
                    fireworks.push(new Firework(x, y));
                }
                
                // æ›´æ–°å’Œç»˜åˆ¶çƒŸèŠ±
                for (let i = fireworks.length - 1; i >= 0; i--) {
                    fireworks[i].update();
                    fireworks[i].draw();
                    
                    if (fireworks[i].alpha <= 0) {
                        fireworks.splice(i, 1);
                    }
                }
                
                // æ›´æ–°å’Œç»˜åˆ¶ç²’å­
                for (let i = particles.length - 1; i >= 0; i--) {
                    particles[i].update();
                    particles[i].draw();
                    
                    if (particles[i].alpha <= 0 || particles[i].size <= 0) {
                        particles.splice(i, 1);
                    }
                }
                
                fireworksAnimationId = requestAnimationFrame(animate);
            }
            
            // å¼€å§‹åŠ¨ç”»
            animate();
            
            // çª—å£å¤§å°æ”¹å˜æ—¶é‡ç½®
            window.addEventListener('resize', () => {
                canvas.width = window.innerWidth;
                canvas.height = window.innerHeight;
            });
            
            // è¿”å›æ¸…ç†å‡½æ•°
            return () => {
                // åœæ­¢åŠ¨ç”»
                if (fireworksAnimationId) {
                    cancelAnimationFrame(fireworksAnimationId);
                    fireworksAnimationId = null;
                }
                
                // æ¸…ç©ºçƒŸèŠ±å’Œç²’å­æ•°ç»„
                fireworks = [];
                particles = [];
                
                // æ¸…é™¤ç”»å¸ƒ
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                
                // éšè—ç”»å¸ƒ
                canvas.style.display = 'none';
            };
        }
        
        // è‡ªåŠ¨æ’­æ”¾é€»è¾‘
        let currentChapter = 1;
        const totalChapters = 5;
        let cleanupFireworks = null;
        
        // åˆ‡æ¢åˆ°æŒ‡å®šç« èŠ‚
        function goToChapter(chapterNumber) {
            console.log(`åˆ‡æ¢åˆ°ç« èŠ‚ ${chapterNumber}`);
            
            // æ›´æ–°æŒ‡ç¤ºå™¨
            document.getElementById('chapterIndicator').textContent = chapterNumber;
            
            // é‡ç½®è¿›åº¦æ¡
            const progressBar = document.getElementById('progress');
            progressBar.style.transition = 'none';
            progressBar.style.width = '0%';
            
            // å¼ºåˆ¶é‡ç»˜
            void progressBar.offsetWidth;
            
            // è®¾ç½®æ–°çš„è¿‡æ¸¡
            progressBar.style.transition = 'width 5s linear';
            
            // éšè—å½“å‰ç« èŠ‚
            const currentActive = document.querySelector('.chapter.active');
            if (currentActive) {
                currentActive.classList.remove('active');
            }
            
            // æ¸…ç†çƒŸèŠ±æ•ˆæœï¼ˆå¦‚æœæ­£åœ¨è¿è¡Œï¼‰
            if (cleanupFireworks) {
                console.log('æ¸…ç†çƒŸèŠ±æ•ˆæœ');
                cleanupFireworks();
                cleanupFireworks = null;
                // é‡æ–°æ˜¾ç¤ºçƒŸèŠ±ç”»å¸ƒ
                document.getElementById('fireworksCanvas').style.display = 'block';
            }
            
            // æ˜¾ç¤ºæ–°ç« èŠ‚
            const newChapter = document.querySelector(`.chapter-${chapterNumber}`);
            if (newChapter) {
                newChapter.classList.add('active');
                
                // æ ¹æ®ä¸åŒç« èŠ‚åˆ›å»ºä¸åŒçš„äº”è§’æ˜Ÿå¸ƒå±€
                if (chapterNumber === 1) {
                    // ç¬¬ä¸€ç« ï¼šæ¬¢è¿é¡µé¢çš„äº”è§’æ˜Ÿ
                    const positions = [
                        {x: 20, y: 20, color: '#ffd166'},
                        {x: 50, y: 40, color: '#ff9a00'},
                        {x: 80, y: 20, color: '#ffd166'},
                        {x: 30, y: 70, color: '#ff9a00'},
                        {x: 70, y: 70, color: '#ffd166'}
                    ];
                    const starInfos = ['å¥åº·', 'å¿«ä¹', 'æˆåŠŸ', 'è´¢å¯Œ', 'å¹³å®‰'];
                    
                    setTimeout(() => {
                        createFiveStars('welcome-stars', positions, starInfos, 30);
                        activateStars('welcome-stars', 400);
                    }, 500);
                }
                else if (chapterNumber === 2) {
                    // ç¬¬äºŒç« ï¼šäº”è§’æ˜Ÿå¸ƒå±€ - åå­—å½¢
                    const positions = [
                        {x: 50, y: 20, color: '#ff6b6b'}, // å¥åº·æ˜Ÿ
                        {x: 80, y: 50, color: '#ffd166'}, // å¿«ä¹æ˜Ÿ
                        {x: 50, y: 80, color: '#06d6a0'}, // æˆåŠŸæ˜Ÿ
                        {x: 20, y: 50, color: '#118ab2'}, // è´¢å¯Œæ˜Ÿ
                        {x: 50, y: 50, color: '#c77dff'}  // å¹³å®‰æ˜Ÿ
                    ];
                    const starInfos = ['å¥åº·æ˜Ÿ Â· èº«ä½“å®‰åº·', 'å¿«ä¹æ˜Ÿ Â· ç¬‘å£å¸¸å¼€', 'æˆåŠŸæ˜Ÿ Â· äº‹ä¸šæœ‰æˆ', 'è´¢å¯Œæ˜Ÿ Â· è´¢æºå¹¿è¿›', 'å¹³å®‰æ˜Ÿ Â· å²å²å¹³å®‰'];
                    
                    setTimeout(() => {
                        createFiveStars('stars-container', positions, starInfos, 50);
                        activateStars('stars-container', 300);
                    }, 500);
                }
                else if (chapterNumber === 3) {
                    // ç¬¬ä¸‰ç« ï¼šä¾§è¾¹äº”è§’æ˜Ÿ
                    const positions = [
                        {x: 20, y: 20, color: '#ffd166'},
                        {x: 80, y: 30, color: '#ff9a00'},
                        {x: 40, y: 50, color: '#ffd166'},
                        {x: 60, y: 70, color: '#ff9a00'},
                        {x: 30, y: 85, color: '#ffd166'}
                    ];
                    const starInfos = ['å¥åº·', 'å¿«ä¹', 'æˆåŠŸ', 'è´¢å¯Œ', 'å¹³å®‰'];
                    
                    setTimeout(() => {
                        createFiveStars('stars-side', positions, starInfos, 35);
                        activateStars('stars-side', 400);
                    }, 500);
                }
                else if (chapterNumber === 4) {
                    // ç¬¬å››ç« ï¼šçƒŸèŠ±ç« èŠ‚
                    cleanupFireworks = createFireworks();
                }
                
                // å¼€å§‹è¿›åº¦æ¡åŠ¨ç”»
                setTimeout(() => {
                    progressBar.style.width = '100%';
                }, 100);
            }
            
            // æ›´æ–°å½“å‰ç« èŠ‚
            currentChapter = chapterNumber;
        }
        
        // è‡ªåŠ¨åˆ‡æ¢åˆ°ä¸‹ä¸€ç« èŠ‚
        function nextChapter() {
            if (currentChapter < totalChapters) {
                goToChapter(currentChapter + 1);
            } else {
                // å¦‚æœæ˜¯æœ€åä¸€ç« ï¼Œç­‰å¾…10ç§’åé‡æ–°å¼€å§‹
                setTimeout(() => {
                    goToChapter(1);
                }, 10000);
            }
        }
        
        // åˆå§‹åŒ–è‡ªåŠ¨æ’­æ”¾
        function initAutoPlay() {
            console.log('å¼€å§‹è‡ªåŠ¨æ’­æ”¾ç¥ç¦ç¨‹åº...');
            
            // åˆ›å»ºæ˜Ÿç©ºèƒŒæ™¯
            createStars();
            
            // åˆ›å»ºæµæ˜Ÿæ•ˆæœ
            createShootingStars();
            
            // ä»ç¬¬ä¸€ç« å¼€å§‹
            goToChapter(1);
            
            // æ¯5ç§’è‡ªåŠ¨åˆ‡æ¢åˆ°ä¸‹ä¸€ç« èŠ‚
               < !DOCTYPE    æ–‡æ¡£ç±»å‹html>const   å¸¸é‡ chapterInterval = setInterval(() => {
                nextChapter();
            }, 5000);
            
            // è¿›åº¦æ¡å®Œæˆæ—¶ä¹Ÿè§¦å‘åˆ‡æ¢
            const progressBar = document.getElementById('progress');
            progressBar.addEventListener('transitionend', () => {
                // å¦‚æœè¿›åº¦æ¡å®Œæˆäº†ï¼Œåˆ‡æ¢åˆ°ä¸‹ä¸€ç« èŠ‚
                if (progressBar.style.width === '100%' && currentChapter < totalChapters) {
                    nextChapter();
                }
            });
        }
        
        // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', () => {
            try {   å°è¯•{
                initAutoPlay();
                console.log('è‡ªåŠ¨ç¥ç¦ç¨‹åºå·²å¯åŠ¨ï¼');
            } catch (error) {
                console.error('åˆå§‹åŒ–é”™è¯¯:', error);
                // æ˜¾ç¤ºé”™è¯¯æç¤º
                const errorDiv = document.createElement('div');
                errorDiv.style.cssText = `
                    position: fixed;
                    top: 20px;
                    left: 50%;
                    transform: translateX(-50%);
                    background: #ff4444;
                    color: white;   é¢œè‰²:ç™½è‰²;
                    padding: 10px 20px;
                    border-radius: 5px;
                    z-index: 9999;
                `;
                errorDiv.textContent = 'é¡µé¢åŠ è½½é”™è¯¯ï¼Œè¯·åˆ·æ–°é‡è¯•';
                document.body.appendChild(errorDiv);
                
                setTimeout(() => {   setTimeout(() => {
                    errorDiv.remove();
                }, 5000);
            }
        });
        
        // é˜²æ­¢é‡å¤åˆå§‹åŒ–
        if (window.autoPlayInitialized) {
            console.log('è‡ªåŠ¨æ’­æ”¾ç¨‹åºå·²åˆå§‹åŒ–è¿‡ï¼Œè·³è¿‡é‡å¤åˆå§‹åŒ–');
        } else {
            window.autoPlayInitialized = true;
        }
    </script>   < / script>
</body>   < / body>
</html>   < / html>
